import{c as u,j as e,L as p}from"./app-Cs9IFEnv.js";import{A as h}from"./AuthLayout-j5mA7mP-.js";/* empty css            *//* empty css             */const x=r=>(r||"").replace(/\D+/g,"").slice(0,11).replace(/^(\d{3})(\d)/,"$1.$2").replace(/^(\d{3})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d{1,2})$/,".$1-$2"),j=r=>(r||"").replace(/\D+/g,"");function b(){const{data:r,setData:l,post:i,processing:t,errors:s,reset:o,transform:c}=u({name:"",cpf:"",email:"",data_nascimento:"",role:3,password:"",password_confirmation:""}),d=document.querySelector('meta[name="csrf-token"]')?.content||"",m=a=>{a.preventDefault(),c(n=>({...n,cpf:j(n.cpf),role:Number(n.role)})),i("/users",{data:{_token:d},onSuccess:()=>o(),preserveScroll:!0})};return e.jsx(h,{children:e.jsxs("div",{className:"page-form",children:[e.jsxs("div",{className:"form-header",children:[e.jsx(p,{href:"/users","aria-label":"Voltar para lista",className:"icon-btn back-btn",children:e.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})})}),e.jsxs("div",{className:"form-title",children:[e.jsx("h1",{children:"Novo usuário"}),e.jsx("p",{children:"Preencha os dados para criar um acesso."})]})]}),e.jsx("div",{className:"card-form",children:e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"field",children:[e.jsx("label",{children:"name"}),e.jsx("input",{className:"input input--lg",value:r.name,onChange:a=>l("name",a.target.value),required:!0}),s.name&&e.jsx("small",{className:"error",children:s.name})]}),e.jsxs("div",{className:"field",children:[e.jsx("label",{children:"CPF"}),e.jsx("input",{className:"input input--lg",inputMode:"numeric",value:r.cpf,onChange:a=>l("cpf",x(a.target.value)),placeholder:"000.000.000-00",required:!0}),s.cpf&&e.jsx("small",{className:"error",children:s.cpf})]}),e.jsxs("div",{className:"field",children:[e.jsx("label",{children:"E-mail"}),e.jsx("input",{className:"input input--lg",type:"email",value:r.email,onChange:a=>l("email",a.target.value),required:!0}),s.email&&e.jsx("small",{className:"error",children:s.email})]}),e.jsxs("div",{className:"field two-cols",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Data de nascimento"}),e.jsx("input",{className:"input input--lg",type:"date",value:r.data_nascimento,onChange:a=>l("data_nascimento",a.target.value),required:!0}),s.data_nascimento&&e.jsx("small",{className:"error",children:s.data_nascimento})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Nível de permissão"}),e.jsxs("select",{className:"input input--lg",value:r.role,onChange:a=>l("role",Number(a.target.value)),children:[e.jsx("option",{value:1,children:"Administrador"}),e.jsx("option",{value:2,children:"Moderador"}),e.jsx("option",{value:3,children:"Leitor"})]}),s.role&&e.jsx("small",{className:"error",children:s.role})]})]}),e.jsxs("div",{className:"field",children:[e.jsx("label",{children:"Senha"}),e.jsx("input",{className:"input input--lg",type:"password",value:r.password,onChange:a=>l("password",a.target.value),required:!0}),s.password&&e.jsx("small",{className:"error",children:s.password})]}),e.jsxs("div",{className:"field",children:[e.jsx("label",{children:"Confirmar senha"}),e.jsx("input",{className:"input input--lg",type:"password",value:r.password_confirmation,onChange:a=>l("password_confirmation",a.target.value),required:!0})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{className:"btn btn--primary btn--xl",disabled:t,children:"Cadastrar"})})]})})]})})}export{b as default};
